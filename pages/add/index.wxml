<!--pages/add/index.wxml-->
<view class="page-container">
  
  <!-- é¤å…åç§°è¾“å…¥æ¡† -->
  <view class="restaurant-name-section">
    <input 
      class="restaurant-name-input" 
      model:value="{{name}}"
      placeholder="Restaurant Name"
      placeholder-class="name-placeholder"
      maxlength="50"
      confirm-type="next"
    />
  </view>

  <!-- æ ‡ç­¾é€‰æ‹©å™¨ -->
  <view class="tags-section">
    <text class="section-label">Tags</text>
    <scroll-view class="tags-scroll" scroll-x show-scrollbar="{{false}}">
      <view class="tags-container">
        <view 
          class="tag-item {{item.selected ? 'tag-selected' : ''}}"
          wx:for="{{tags}}"
          wx:key="label"
          bindtap="onToggleTag"
          data-index="{{index}}"
        >
          <text class="tag-text">{{item.label}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- èœå“åˆ—è¡¨ -->
  <view class="dishes-section">
    <text class="section-title">Add Dish</text>
    
    <view class="dishes-list">
      <view 
        class="dish-card"
        wx:for="{{dishes}}"
        wx:key="index"
        wx:for-index="idx"
      >
        <!-- å·¦ä¾§ï¼šå›¾ç‰‡å ä½ -->
        <view class="dish-image-placeholder">
          <text class="camera-icon">ğŸ“·</text>
        </view>
        
        <!-- å³ä¾§ï¼šä¿¡æ¯ -->
        <view class="dish-info">
          <input 
            class="dish-name-input"
            model:value="{{dishes[idx].name}}"
            placeholder="Dish name"
            placeholder-class="dish-placeholder"
            maxlength="30"
            data-index="{{idx}}"
          />
          <view class="dish-actions">
            <view class="recommend-toggle">
              <text class="recommend-label">æ¨è</text>
              <switch 
                class="recommend-switch"
                checked="{{item.isRecommended}}"
                bindchange="onToggleRecommend"
                data-index="{{idx}}"
                color="#000000"
              />
            </view>
            <!-- åˆ é™¤æŒ‰é’®ï¼ˆå½“èœå“æ•°é‡å¤§äº1æ—¶æ˜¾ç¤ºï¼‰ -->
            <view 
              wx:if="{{dishes.length > 1}}"
              class="delete-btn"
              bindtap="onDeleteDish"
              data-index="{{idx}}"
            >
              <text class="delete-icon">ğŸ—‘ï¸</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- æ·»åŠ æ›´å¤šæŒ‰é’® -->
    <view class="add-dish-btn" bindtap="onAddDish">
      <text class="add-dish-text">+ Add another dish</text>
    </view>
  </view>

  <!-- åº•éƒ¨å ä½ -->
  <view class="bottom-spacer"></view>

  <!-- ä¿å­˜æŒ‰é’®ï¼ˆå›ºå®šåœ¨åº•éƒ¨ï¼‰ -->
  <view class="save-button-container">
    <button class="save-button" bindtap="onSave">
      <text class="save-button-text">Save</text>
    </button>
  </view>

</view>