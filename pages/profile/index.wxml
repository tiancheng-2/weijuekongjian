<!--pages/profile/index.wxml-->
<view class="page-container">
  
  <!-- Header ç”¨æˆ·ä¿¡æ¯ -->
  <view class="profile-header">
    <view class="avatar-wrapper">
      <image 
        class="user-avatar" 
        src="{{userInfo.avatarUrl || '/assets/default-avatar.png'}}" 
        mode="aspectFill"
      ></image>
    </view>
    <text class="user-nickname">{{userInfo.nickName || 'ç¾é£Ÿæ¢ç´¢è€…'}}</text>
  </view>

  <!-- Stats Dashboard ç»Ÿè®¡ä»ªè¡¨ç›˜ -->
  <view class="stats-dashboard">
    <view class="stats-grid">
      <view class="stat-cell">
        <text class="stat-number">{{stats.totalRestaurants || 0}}</text>
        <text class="stat-label">æ¢ç´¢é¤å…</text>
      </view>
      <view class="stat-cell">
        <text class="stat-number">{{stats.totalDishes || 0}}</text>
        <text class="stat-label">è®°å½•ç¾å‘³</text>
      </view>
      <view class="stat-cell">
        <text class="stat-number">{{stats.mustTryCount || 0}}</text>
        <text class="stat-label">å¿ƒåŠ¨å¿…åƒ</text>
      </view>
      <view class="stat-cell">
        <text class="stat-number">{{stats.avoidCount || 0}}</text>
        <text class="stat-label">é—æ†¾è¸©é›·</text>
      </view>
    </view>
  </view>

  <!-- Menu List åŠŸèƒ½åˆ—è¡¨ -->
  <view class="menu-list">
    <!-- æˆ‘çš„è¶³è¿¹ -->
    <view class="menu-item" bindtap="onNavigateToMap">
      <view class="menu-left">
        <text class="menu-icon">ğŸ—ºï¸</text>
        <text class="menu-title">æˆ‘çš„è¶³è¿¹</text>
      </view>
      <view class="menu-right">
        <text class="menu-badge">{{stats.totalRestaurants || 0}}å®¶</text>
        <text class="menu-arrow">â€º</text>
      </view>
    </view>

    <!-- è”ç³»å®¢æœ -->
    <view class="menu-item">
      <button 
        class="contact-btn" 
        open-type="contact"
        session-from="profile"
      >
        <view class="menu-left">
          <text class="menu-icon">ğŸ’¬</text>
          <text class="menu-title">è”ç³»å®¢æœ</text>
        </view>
        <view class="menu-right">
          <text class="menu-arrow">â€º</text>
        </view>
      </button>
    </view>

    <!-- å…³äºæˆ‘ä»¬ -->
    <view class="menu-item" bindtap="onAbout">
      <view class="menu-left">
        <text class="menu-icon">â„¹ï¸</text>
        <text class="menu-title">å…³äºæˆ‘ä»¬</text>
      </view>
      <view class="menu-right">
        <text class="menu-arrow">â€º</text>
      </view>
    </view>
  </view>

  <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
  <view class="version-info">
    <text class="version-text">å‘³è§‰ç©ºé—´ v1.0.0</text>
  </view>

</view>