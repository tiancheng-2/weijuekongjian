<!--pages/index/index.wxml-->
<view class="page-container">
  
  <!-- Header é¡¶éƒ¨æ  -->
  <view class="header">
    <view class="header-left">
      <text class="header-welcome">Welcome back</text>
      <text class="header-title">ä½ å¥½ï¼Œç¾é£Ÿå®¶</text>
    </view>
    <view class="header-right">
      <image class="header-avatar" src="{{userAvatar || '/assets/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="header-notification">
        <text class="notification-icon">ğŸ””</text>
      </view>
    </view>
  </view>

  <!-- Stats Card ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-card">
    <view class="stats-item">
      <text class="stats-number">{{stats.totalRestaurants}}</text>
      <text class="stats-label">é¤å…</text>
    </view>
    <view class="stats-divider"></view>
    <view class="stats-item">
      <text class="stats-number">{{stats.totalDishes}}</text>
      <text class="stats-label">è®°å½•</text>
    </view>
  </view>

  <!-- Food Grid ç¾é£Ÿç½‘æ ¼ -->
  <view class="food-section">
    <view class="section-header">
      <text class="section-title">Recent Eats</text>
      <text class="section-link" bindtap="onViewAll">View All</text>
    </view>
    
    <view class="food-grid">
      <view 
        class="food-card" 
        wx:for="{{restaurants}}" 
        wx:key="id"
        bindtap="onCardTap"
        data-id="{{item.id}}"
      >
        <view class="food-image-wrapper">
          <image class="food-image" src="{{item.image}}" mode="aspectFill"></image>
          <view class="food-rating">
            <text class="rating-star">â˜…</text>
            <text class="rating-score">{{item.rating}}</text>
          </view>
        </view>
        <view class="food-info">
          <text class="food-name">{{item.name}}</text>
          <view class="food-tags">
            <text class="food-tag" wx:for="{{item.tags}}" wx:key="index" wx:for-item="tag">{{tag}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- FAB æ‚¬æµ®æŒ‰é’® -->
  <view class="fab" bindtap="onAddTap">
    <text>+</text>
  </view>

</view>